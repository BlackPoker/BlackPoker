@startuml
start
:[6-1]誘発したアクションをプレイヤー毎\nの誘発即時リストと誘発通常リストに追加;
while([6-2]誘発即時リスト、誘発通常リスト全体の件数判定) is (1件以上)
    group 即時効果:プレイヤー単位に繰返し
    note
        順番はターンプレイヤーから
        ターンが回る順に行う
    end note
    repeat :[6-3]プレイヤー毎に誘発即時リスト\nの即時効果のアクションを解決;
        group 即時効果:アクション単位に繰返し
        repeat :[6-4]誘発即時リストから即時効果の\nアクションを1つ取り出す;
            :[6-5]即時効果のアクションを解決;
            if([6-6]勝敗判定) then (決着)
                stop
            endif
            :[6-7]誘発したアクションをプレイヤー毎\nの誘発即時リストと誘発通常リストに追加;
        repeat while ([6-8]誘発即時リストの件数が0件でなけば繰り返す) is (YES)
        end group
    repeat while([6-9]全ての誘発即時リストの件数が0件でなければ繰り返す) is (YES)
    end group

    group 通常効果:プレイヤー単位に繰返し
    note
        順番はターンプレイヤーから
        ターンが回る順に行う
    end note
    repeat :[6-10]プレイヤー毎に誘発通常リスト\nのアクションをステージに追加;
        :[6-11]通常効果のアクションを\n任意の順でステージに追加;
        :[6-12]誘発したアクションをプレイヤー毎\nの誘発即時リストと誘発通常リストに追加;
    repeat while ([6-13]誘発リストに通常効果のアクションがあれば繰り返す) is (YES)
    end group

endwhile (0件)
    stop
@enduml
