\documentclass[twocolumn,a5paper,papersize,10pt]{jarticle}
\usepackage{bxpapersize}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage[dvipdfmx]{graphicx} %画像読み込み設定
\usepackage{here} %画像を好きな位置に出力
\usepackage[absolute,overlay]{textpos}%座標指定

\usepackage{newtxtext,newtxmath} %timeフォント設定
\usepackage{titlesec}%タイトルの文字サイズ変更
\usepackage{setspace} % setspaceパッケージのインクルード

\usepackage{tcolorbox} % 枠囲み
\usepackage{okumacro} % ルビ

%\columnseprule=0.1pt %段組み罫線
\setlength{\columnsep}{0.5cm} %段組みの幅


\titleformat*{\section}{\small\bfseries} %sectionの文字サイズ
\titleformat*{\subsection}{\scriptsize\bfseries} %subsectionの文字サイズ
\titleformat*{\subsubsection}{\scriptsize\bfseries} %subsubsectionの文字サイズ

\setlength{\hoffset}{-2cm}
\setlength{\voffset}{-4cm}
\setlength{\marginparsep}{0pt}
\setlength{\marginparwidth}{0pt}
\setlength{\headheight}{5pt}
\setlength{\textheight}{19cm}
\setlength{\textwidth}{13.8cm}

\setlength\intextsep{0pt} %図の余白をなくす
\setlength\textfloatsep{0pt} %図の余白をなくす

\setlength\floatsep{0pt} %図と図の間の余白
\setlength\textfloatsep{0pt} %本文と図の間の余白
\setlength\intextsep{0pt} %本文中の図の余白
\setlength\abovecaptionskip{0pt} %図とキャプションの間の余白


\setstretch{1} % ページ全体の行間を設定
\parindent = 0pt %インデントを無効化

\title{\empty}
\author{\empty}
\date{\empty}

%%%%%%    TEXT START    %%%%%%
\begin{document}

% ロゴ出力
% この場合は (230pt, 100pt) の位置に 0.4\linewidth の幅のブロックができる．
\begin{textblock*}{0.4\linewidth}(55pt, 145pt)
    \centering
    \includegraphics[width=1.2cm]{blackpoker_logo.pdf}
\end{textblock*}

%%%%% QRコード第三版用 %%%%%
#if((${arg0} == "lite") && (${data.qrLite} != ""))
\begin{textblock*}{0.4\linewidth}(200pt, 135pt)
    \centering
%    \includegraphics[width=1.7cm,keepaspectratio]{${data.qrLite}}
\end{textblock*}
#elseif((${arg0} == "std") && (${data.qrStd} != ""))
\begin{textblock*}{0.4\linewidth}(200pt, 135pt)
    \centering
%    \includegraphics[width=1.7cm,keepaspectratio]{${data.qrStd}}
\end{textblock*}
#elseif((${arg0} == "pro") && (${data.qrPro} != ""))
\begin{textblock*}{0.4\linewidth}(200pt, 135pt)
    \centering
%    \includegraphics[width=1.7cm,keepaspectratio]{${data.qrPro}}
\end{textblock*}
#else
\begin{textblock*}{0.4\linewidth}(200pt, 135pt)
    \centering
%    \includegraphics[width=1.7cm,keepaspectratio]{${data.qrMast}}
\end{textblock*}
#end
\begin{textblock*}{0.4\linewidth}(200pt, 130pt)
    \centering
%    \textcolor{black}{Web版}
\end{textblock*}

%%%%% QRコード第三版用 %%%%%

\section*{\textrm{\Large BlackPoker}}
\vspace{-1zh}%余白削除
\noindent

\begin{center}
#if(${arg0} == "lite")
{\footnotesize ${data.ver} ライト}
#elseif(${arg0} == "std")
{\footnotesize ${data.ver} スタンダード}
#elseif(${arg0} == "pro")
{\footnotesize ${data.ver} プロ}
#elseif(${arg0} == "mast")
{\footnotesize ${data.ver} マスター}
#else
{\footnotesize ${data.ver}}
#end

{\scriptsize ${data.lastupdate}}
\end{center}

\scriptsize%本文の文字サイズを小さく設定
\renewcommand{\labelitemi}{・}%箇条書きのラベルを変更
#if(${arg0} == "pro")
{\quad}本誌はアクション、キャラクターのリストです。
各フォーマットで使用できる
アクション、キャラクターが異なるため、記載されている表記により使い分けて下さい。
\vspace{-1zh}%余白削除
\begin{tabbing}
 \hspace{2mm} \= \hspace{2mm} \= \hspace{3mm} \= \hspace{1mm} \= hspace{15mm} \kill
\> ■ \>lite \> : \>ライト、スタンダード、プロで使えます。\\
\> ○ \>std \> : \>スタンダード、プロで使えます。\\
\> ● \>pro \> : \>プロで使えます。\\
\end{tabbing}
\vspace{-2zh}%余白削除
#elseif(${arg0} == "mast")
{\quad}本誌はライト、スタンダード、プロ、マスターのActionList,CharacterListです。
各フォーマットで使用できる
アクション、キャラクターが異なるため、記載されている表記により使い分けて下さい。
\vspace{-1zh}%余白削除
\begin{tabbing}
 \hspace{2mm} \= \hspace{2mm} \= \hspace{3mm} \= \hspace{1mm} \= hspace{15mm} \kill
\> ■ \>lite \> : \>ライト、スタンダード、プロ、マスターで使えます。\\
\> ○ \>std \> : \>スタンダード、プロ、マスターで使えます。\\
\> ● \>pro \> : \>プロ、マスターで使えます。\\
\> ◎ \>mast \> : \>マスターで使えます。\\
\end{tabbing}
\vspace{-2zh}%余白削除
#end
\hrule height 0.5mm depth 0mm width 66.5mm %罫線
\vspace{-3zh}%余白削除
\subsection*{（補足）記号の意味}
\vspace{-1zh}%余白削除
{\small @:タイミング, 
\$:コスト, 
★:キーカード}

\vspace{1mm}%余白削除
\hrule height 0.1mm depth 0mm width 66.5mm %罫線
\vspace{-3zh}%余白削除

\subsection*{（補足）コストの意味}
\vspace{-1zh}%余白削除
\begin{small}
\begin{tabbing}
 \hspace{2mm} \= \hspace{2mm} \= \hspace{1mm} \= hspace{15mm} \kill
\> B \> : \>防壁をドライブする \\
\> L \> : \>1点ダメージを受ける \\
\> D \> : \>手札を1枚捨てる \\
#if(${arg0} != "lite")
\> S \> : \>キャラクター1体を墓地に移す \\
#end
\end{tabbing}
\end{small}

\vspace{-3zh}%余白削除
\hrule height 0.1mm depth 0mm width 66.5mm %罫線
\vspace{-3zh}%余白削除

\subsection*{（補足）防壁の置き方}
\vspace{-1zh}%余白削除
\begin{itemize}
\setlength{\leftskip}{-0.3cm}%箇条書きを左詰め
%\setlength{\itemsep}{0pt}      %2. ブロック間の余白
\setlength{\parskip}{0pt}      %4. 段落間余白．
%\setlength{\itemindent}{-10pt}   %5. 最初のインデント
%\setlength{\labelsep}{15pt}     %6. item と文字の間

\item 防壁を置く時はライフ側に詰めて置く。
\item 防壁の左右の入れ替えは行わない。
\end{itemize}

\vspace{-1zh}%余白削除
\hrule height 0.1mm depth 0mm width 66.5mm %罫線
\vspace{-3zh}%余白削除

\subsection*{（補足）誘発する場合}
\vspace{-1zh}%余白削除
アクションを誘発する場合、誘発したアクションをステージに乗せます。詳しくは、公式ルール参照。
\vspace{-1zh}%余白削除


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% ActionList %%%%%
\begin{center}
\begin{center}
\hrule height 1mm depth 0mm width 66.5mm %罫線
\vspace{1mm}%余白削除
{\Large\bf \ruby{Action List}{アクションリスト}}
\vspace{1mm}%余白削除
\hrule height 0.5mm depth 0mm width 66.5mm %罫線
\end{center}
\end{center}
\vspace{-1zh}%余白削除
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

#foreach( $nestList in $actList)

%%% 大項目 %%%
\tcbset{colframe=black,coltitle=black!0!black,coltext=white!0!white,colbacktitle=white!0!white,colback=black!0!black,sharp corners,top=0mm, left=0mm, bottom=0mm, right=0mm,boxrule=0mm,toprule=0mm,valign=center,halign=center}
\begin{tcolorbox}
{\scriptsize\bf ${nestList.type}}
\end{tcolorbox}
\vspace{-1zh}%余白削除
    #foreach( $row in ${nestList.acts})
        ## arg0とがformatに含まれている行のみ出力する
        #if(${row.format.contains(${arg0})})
%%% Action %%%
%\vspace{1zh} %余白追加
\vspace{2mm} %余白追加
\hrule height 0.5mm depth 0mm width 66.5mm %罫線
\vspace{1mm} %余白追加
            #if(${row.format.contains(${arg0})})
                #if(${row.format.contains('lite')})
{\small\bf ■ ${row.actName} {\scriptsize (${row.actType}) [lite]}} %Actionタイトル
                #elseif(${row.format.contains('std')})
{\small\bf ○ ${row.actName} {\scriptsize (${row.actType}) [std]}} %Actionタイトル
                #elseif(${row.format.contains('pro')})
{\small\bf ● ${row.actName} {\scriptsize (${row.actType}) [pro]}} %Actionタイトル
                #elseif(${row.format.contains('mast')})
{\small\bf ◎ ${row.actName} {\scriptsize (${row.actType}) [mast]}} %Actionタイトル
                #end
            #end
\hfill 
            #if(${row.actTime} != "")
{\footnotesize\bf @${row.actTime} }
            #end
            #if(${row.actCost} != "")
  {\footnotesize\bf | } {\footnotesize\bf \$ ${row.actCost}}
            #end

            #if(${row.actKey.trim()} != "")
{\footnotesize\bf ★${texFn.cnv(${row.actKey})}}
            #end

            #if(${row.actNote.trim()} != "")
%特記事項
\vspace{1mm}%余白削除
\hrule height 0.1mm depth 0mm width 66.5mm %罫線
\vspace{1mm}%余白削除

${texFn.cnv(${row.actNote})}
            #end
            #if(${row.actTarget.trim()} != "")
\vspace{1mm}%余白削除
\hrule height 0.1mm depth 0mm width 66.5mm %罫線
\vspace{1mm}%余白削除
{\bf（対象）}

${texFn.cnv(${row.actTarget})}
            #end
            #if(${row.actEffect.trim()} != "")
\vspace{1mm}%余白削除
\hrule height 0.1mm depth 0mm width 66.5mm %罫線
\vspace{1mm}%余白削除

                #if(${row.actS.trim()} != "")
{\bf（即時効果）}
                #end
                #if(${row.actS.trim()} == "")
{\bf（通常効果）}
                #end

${texFn.cnv(${row.actEffect})}
            #end
        #end
    #end

#end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% CharacterList %%%%%
\begin{center}
\begin{center}
\hrule height 1mm depth 0mm width 66.5mm %罫線
\vspace{1mm}%余白削除
{\Large\bf \ruby{CharacterList}{キャラクターリスト}}
\vspace{1mm}%余白削除
\hrule height 0.5mm depth 0mm width 66.5mm %罫線
\end{center}
\end{center}
\vspace{-1zh}%余白削除
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

#foreach( $nestList in $charList)

%%% 大項目 %%%
\tcbset{colframe=black,coltitle=black!0!black,coltext=white!0!white,colbacktitle=white!0!white,colback=black!0!black,sharp corners,top=0mm, left=0mm, bottom=0mm, right=0mm,boxrule=0mm,toprule=0mm,valign=center,halign=center}
\begin{tcolorbox}
{\scriptsize\bf ${nestList.type}}
\end{tcolorbox}
\vspace{-1zh}%余白削除
    #foreach( $row in ${nestList.chars})
        ## arg0とがformatに含まれている行のみ出力する
        #if(${row.format.contains(${arg0})})
%%% Character %%%
%\vspace{1zh} %余白追加
\vspace{2mm} %余白追加
\hrule height 0.5mm depth 0mm width 66.5mm %罫線
\vspace{1mm} %余白追加
            #if(${row.format.contains(${arg0})})
                #if(${row.format.contains('lite')})
{\small\bf ■ ${row.charName} {\scriptsize (${row.charType}) [lite]}} %Characterタイトル
                #elseif(${row.format.contains('std')})
{\small\bf ○ ${row.charName} {\scriptsize (${row.charType}) [std]}} %Characterタイトル
                #elseif(${row.format.contains('pro')})
{\small\bf ● ${row.charName} {\scriptsize (${row.charType}) [pro]}} %Characterタイトル
                #end
            #end
\hfill 
            #if(${row.charKey.trim()} != "")
{\footnotesize\bf ★${texFn.cnv(${row.charKey})} }
            #end

            #if(${row.charSize})
{\bf サイズ : ${texFn.cnv(${row.charSize})} }
            #end

            #if(${row.charNote.trim()} != "")
%特記事項
\vspace{1mm}%余白削除
\hrule height 0.1mm depth 0mm width 66.5mm %罫線
\vspace{1mm}%余白削除

${texFn.cnv(${row.charNote})}
            #end
            #if(${row.charAbility.trim()} != "")
\vspace{1mm}%余白削除
\hrule height 0.1mm depth 0mm width 66.5mm %罫線
\vspace{1mm}%余白削除

{\bf（能力）}

${texFn.cnv(${row.charAbility})}
            #end
        #end
    #end

#end

\thispagestyle{empty}
\vspace*{\stretch{1}}
\begin{flushright}
\begin{minipage}{0.8\hsize}
\hrule height 0.2mm depth 0mm width 50mm %罫線
\begin{description}
  \item{誌名：}BlackPoker ActionList ${data.ver}
  \item{発行：}${data.lastupdate}
\end{description}
\end{minipage}
\end{flushright}

\begin{flushright}
\copyright 2013 BlackPoker
\end{flushright}

\end{document}
